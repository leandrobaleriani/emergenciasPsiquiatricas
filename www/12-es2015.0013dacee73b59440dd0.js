(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{TUkU:function(t,i,e){"use strict";e.r(i),e.d(i,"Tab2PageModule",(function(){return I}));var n=e("TEn/"),o=e("ofXK"),c=e("3Pt+"),r=e("tyNb"),s=e("mrSG"),b=e("fXoL"),l=e("ZsGT"),a=e("e8h1");function u(t,i){1&t&&b.Ib(0,"ion-icon",11)}function d(t,i){1&t&&b.Ib(0,"ion-icon",12)}function f(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-item-option",13),b.Sb("click",(function(){b.Zb(t);const i=b.Ub().$implicit;return b.Ub().verDetalle(i)})),b.dc(1),b.Jb()}if(2&t){const t=b.Ub().$implicit;b.xb(1),b.fc("",t.tur_estado," ")}}function m(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-item-option",14),b.Sb("click",(function(){b.Zb(t);const i=b.Ub().$implicit;return b.Ub().verDetalle(i)})),b.dc(1),b.Jb()}if(2&t){const t=b.Ub().$implicit;b.xb(1),b.fc("",t.tur_estado," ")}}function p(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-item-option",15),b.Sb("click",(function(){b.Zb(t);const i=b.Ub().$implicit;return b.Ub().verDetalle(i)})),b.dc(1),b.Jb()}if(2&t){const t=b.Ub().$implicit;b.xb(1),b.fc("",t.tur_estado," ")}}function g(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-item-option",14),b.Sb("click",(function(){b.Zb(t);const i=b.Ub().$implicit;return b.Ub().verDetalle(i)})),b.dc(1),b.Jb()}if(2&t){const t=b.Ub().$implicit;b.xb(1),b.fc("",t.tur_estado," ")}}function h(t,i){if(1&t){const t=b.Lb();b.Kb(0,"ion-item",4),b.Sb("click",(function(){b.Zb(t);const e=i.$implicit;return b.Ub().verDetalle(e)})),b.Kb(1,"ion-avatar",5),b.cc(2,u,1,0,"ion-icon",6),b.cc(3,d,1,0,"ion-icon",7),b.Jb(),b.Kb(4,"ion-label"),b.Kb(5,"h2"),b.dc(6),b.Jb(),b.Kb(7,"h3"),b.dc(8),b.Jb(),b.Kb(9,"h3"),b.dc(10),b.Jb(),b.Jb(),b.cc(11,f,2,1,"ion-item-option",8),b.cc(12,m,2,1,"ion-item-option",9),b.cc(13,p,2,1,"ion-item-option",10),b.cc(14,g,2,1,"ion-item-option",9),b.Jb()}if(2&t){const t=i.$implicit;b.xb(2),b.Xb("ngIf","PROGRAMADA"==t.tur_tipo),b.xb(1),b.Xb("ngIf","URGENCIA"==t.tur_tipo),b.xb(3),b.ec(t.tur_fecha),b.xb(2),b.ec(t.tur_nombre),b.xb(2),b.ec(t.tur_hora),b.xb(1),b.Xb("ngIf","PENDIENTE"==t.tur_estado),b.xb(1),b.Xb("ngIf","REALIZADO"==t.tur_estado),b.xb(1),b.Xb("ngIf","CANCELADO"==t.tur_estado),b.xb(1),b.Xb("ngIf","CONFIRMADO"==t.tur_estado)}}const v=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.tService=t,this.loadingController=i,this.alertController=e,this.storage=n}ionViewWillEnter(){this.getTurnos()}ngOnInit(){}getTurnos(){return Object(s.a)(this,void 0,void 0,(function*(){let t=yield this.loadingController.create({message:"Cargando...",spinner:"crescent"});yield t.present(),yield this.storage.get("user").then(i=>{this.tService.getTurnosByDeviceId(i.id).subscribe(i=>{this.turnos=i,t.dismiss()},i=>{t.dismiss()})},i=>{t.dismiss()})}))}verDetalle(t){return Object(s.a)(this,void 0,void 0,(function*(){let i="<b>Detalle: </b>"+t.tur_detalle+"<br>";const e=yield this.alertController.create({header:"Detalle",subHeader:"Turno N\xb0: "+t.tur_id,message:i,buttons:[{text:"Salir",role:"cancel",cssClass:"secondary"},{text:"Cancelar Turno",cssClass:"primary",handler:()=>{this.cancelarTurno(t.tur_id,"CANCELADO"),e.dismiss()}}]});yield e.present()}))}cancelarTurno(t,i){return Object(s.a)(this,void 0,void 0,(function*(){let e=yield this.loadingController.create({message:"Espere...",spinner:"crescent"});yield e.present(),yield this.tService.cancelarTurno(t,i).subscribe(t=>{this.getTurnos(),e.dismiss()},t=>{e.dismiss()})}))}}return t.\u0275fac=function(i){return new(i||t)(b.Hb(l.a),b.Hb(n.C),b.Hb(n.a),b.Hb(a.b))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-tab2"]],decls:7,vars:2,consts:[["color","primary"],[3,"fullscreen"],[3,"items"],[3,"click",4,"virtualItem"],[3,"click"],["slot","start"],["name","time",4,"ngIf"],["name","time","color","danger",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["color","success",3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["name","time"],["name","time","color","danger"],["color","primary",3,"click"],["color","success",3,"click"],["color","danger",3,"click"]],template:function(t,i){1&t&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar",0),b.Kb(2,"ion-title"),b.dc(3,"Mis Solicitudes"),b.Jb(),b.Jb(),b.Jb(),b.Kb(4,"ion-content",1),b.Kb(5,"ion-virtual-scroll",2),b.cc(6,h,15,9,"ion-item",3),b.Jb(),b.Jb()),2&t&&(b.xb(4),b.Xb("fullscreen",!0),b.xb(1),b.Xb("items",i.turnos))},directives:[n.j,n.y,n.x,n.g,n.z,n.I,n.m,n.c,o.h,n.o,n.k,n.n],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(v)],r.i]}),t})(),I=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(i){return new(i||t)},imports:[[n.A,o.b,c.d,y]]}),t})()}}]);