(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{QMpC:function(e,t,o){"use strict";o.r(t),o.d(t,"TurnoPageModule",(function(){return p}));var n=o("ofXK"),r=o("3Pt+"),i=o("TEn/"),s=o("tyNb"),a=o("mrSG");class l{}var c=o("fXoL"),b=o("ZsGT"),u=o("e8h1");const d=[{path:"",component:(()=>{class e{constructor(e,t,o,n,r,i){this.formBuilder=e,this.navCtrl=t,this.tService=o,this.loadingController=n,this.toastController=r,this.storage=i,this.turno=this.formBuilder.group({fecha:"",nombre:"",detalle:"",tipo:"",deviceId:"",telefono:""}),this.storage.get("user").then(e=>{this.turno.controls.nombre.setValue(e.nombre),this.turno.controls.deviceId.setValue(e.id)}),this.storage.get("fecha").then(e=>{this.turno.controls.fecha.setValue(e)}),this.storage.get("tipo").then(e=>{this.turno.controls.tipo.setValue(e)})}ngOnInit(){}saveTurno(){return Object(a.a)(this,void 0,void 0,(function*(){let e=new l;e.tur_fecha=this.turno.controls.fecha.value,e.tur_hora="",e.tur_nombre=this.turno.controls.nombre.value,e.tur_detalle=this.turno.controls.detalle.value,e.tur_tipo=this.turno.controls.tipo.value,e.tur_estado="PENDIENTE",e.device_id=this.turno.controls.deviceId.value,e.tur_telefono=this.turno.controls.telefono.value;let t=yield this.loadingController.create({message:"Espere...",spinner:"crescent"});const o=yield this.toastController.create({color:"primary",message:"Se registr\xf3 el pedido! <br> En breve nos comunicaremos con usted.",duration:2e3});yield t.present(),yield this.tService.saveTurno(e).subscribe(e=>{o.present(),t.dismiss(),this.navigateBack()},e=>{t.dismiss()})}))}navigateBack(){this.navCtrl.back()}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(r.a),c.Hb(i.D),c.Hb(b.a),c.Hb(i.C),c.Hb(i.H),c.Hb(u.b))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-turno"]],decls:35,vars:3,consts:[["color","primary"],["slot","start"],[3,"click"],["name","arrow-back"],[1,"background",3,"fullscreen"],[3,"formGroup","ngSubmit"],["position","stacked"],["cancelText","Cancelar","doneText","Listo","display-format","DD/MM/YYYY","picker-format","DD/MM/YYYY","formControlName","fecha","required",""],["value","URGENCIA","okText","Listo","cancelText","Cancelar","formControlName","tipo"],["value","URGENCIA"],["value","PROGRAMADA"],["type","text","formControlName","nombre","required",""],["formControlName","detalle","required",""],["type","text","formControlName","telefono","required",""],["type","submit","expand","full",3,"disabled"]],template:function(e,t){1&e&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar",0),c.Kb(2,"ion-buttons",1),c.Kb(3,"ion-button",2),c.Sb("click",(function(){return t.navigateBack()})),c.Ib(4,"ion-icon",3),c.Jb(),c.Jb(),c.Kb(5,"ion-title"),c.dc(6,"Solicitar Turno"),c.Jb(),c.Jb(),c.Jb(),c.Kb(7,"ion-content",4),c.Kb(8,"form",5),c.Sb("ngSubmit",(function(){return t.saveTurno()})),c.Kb(9,"ion-item"),c.Kb(10,"ion-label",6),c.dc(11,"Fecha:"),c.Jb(),c.Ib(12,"ion-datetime",7),c.Jb(),c.Kb(13,"ion-item"),c.Kb(14,"ion-label",6),c.dc(15,"Tipo de Turno:"),c.Jb(),c.Kb(16,"ion-select",8),c.Kb(17,"ion-select-option",9),c.dc(18,"URGENCIA"),c.Jb(),c.Kb(19,"ion-select-option",10),c.dc(20,"PROGRAMADA"),c.Jb(),c.Jb(),c.Jb(),c.Kb(21,"ion-item"),c.Kb(22,"ion-label",6),c.dc(23,"Nombre:"),c.Jb(),c.Ib(24,"ion-input",11),c.Jb(),c.Kb(25,"ion-item"),c.Kb(26,"ion-label",6),c.dc(27,"Descripci\xf3n:"),c.Jb(),c.Ib(28,"ion-textarea",12),c.Jb(),c.Kb(29,"ion-item"),c.Kb(30,"ion-label",6),c.dc(31,"Telefono:"),c.Jb(),c.Ib(32,"ion-input",13),c.Jb(),c.Kb(33,"ion-button",14),c.dc(34,"Solicitar"),c.Jb(),c.Jb(),c.Jb()),2&e&&(c.xb(7),c.Xb("fullscreen",!0),c.xb(1),c.Xb("formGroup",t.turno),c.xb(25),c.Xb("disabled",!t.turno.valid))},directives:[i.j,i.y,i.e,i.d,i.k,i.x,i.g,r.k,r.h,r.c,i.m,i.o,i.h,i.F,r.g,r.b,r.j,i.r,i.s,i.l,i.G,i.w],styles:[""]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(d)],s.i]}),e})(),p=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[n.b,r.d,i.A,m,r.i]]}),e})()}}]);