{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts","webpack:///src/app/model/Usuario.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","providers","HomePage","formBuilder","navCtrl","storage","loadingController","toastController","platform","alertController","uniqueDeviceID","tService","user","showUser","login","group","usuario","pass","get","then","val","navigateRoot","set","Date","toISOString","create","message","spinner","loading","color","duration","toast","toastError","present","uuid","usu_nombre","controls","value","usu_pass","acceso","subscribe","data","id","nombre","dismiss","error","console","log","selector","template","Usuario"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-title>Inicio</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-grid style=\\\"height: 50%\\\">\\n\\t\\t<ion-row>\\n\\t\\t\\t<img src=\\\"assets/img/logo.png\\\" />\\n\\t\\t</ion-row>\\n\\t\\t<form [formGroup]=\\\"login\\\" (ngSubmit)=\\\"validateLogin()\\\">\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label>Usuario</ion-label>\\n\\t\\t\\t\\t<ion-input type=\\\"text\\\" formControlName=\\\"usuario\\\" required></ion-input>\\n\\t\\t\\t</ion-item>\\n\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t<ion-label>Contraseña</ion-label>\\n\\t\\t\\t\\t<ion-input type=\\\"text\\\" formControlName=\\\"pass\\\" required></ion-input>\\n\\t\\t\\t</ion-item>\\n\\t\\t\\t<ion-button expand=\\\"full\\\" color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"!login.valid\\\">Iniciar Sesi&oacute;n\\n\\t\\t\\t</ion-button>\\n\\t\\t</form>\\n\\t</ion-grid>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\nimport { UniqueDeviceID } from '@ionic-native/unique-device-id/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [HomePage],\n  providers: [UniqueDeviceID]\n})\nexport class HomePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AlertController, LoadingController, NavController, Platform, ToastController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { UniqueDeviceID } from '@ionic-native/unique-device-id/ngx';\nimport { TurnosService } from '../services/turnos.service';\nimport { Usuario } from '../model/Usuario';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  constructor(\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate navCtrl: NavController,\n\t\tprivate storage: Storage,\n\t\tpublic loadingController: LoadingController,\n\t\tpublic toastController: ToastController,\n\t\tprivate platform: Platform,\n\t\tpublic alertController: AlertController,\n\t\tprivate uniqueDeviceID: UniqueDeviceID,\n\t\tprivate tService: TurnosService\n\t) {\n\n\t\tthis.login = this.formBuilder.group({\n\t\t\tusuario: '',\n\t\t\tpass: ''\n\t\t});\n\t}\n\n  ngOnInit() {\n  }\n\n  login: FormGroup;\n\tuser: any = {};\n\tshowUser: boolean = false;\n\n\tionViewWillEnter() {\n\t\tthis.storage.get('user').then((val) => {\n\t\t\tif (val) {\n\t\t\t\tthis.navCtrl.navigateRoot(\"/tabs\")\n\t\t\t}\n\t\t});\n\n\t\tthis.storage.set('fecha', new Date().toISOString());\n\t}\n\n\tasync validateLogin() {\n\t\tlet loading = await this.loadingController.create({\n\t\t\tmessage: \"Espere...\",\n\t\t\tspinner: \"crescent\"\n\t\t});\n\n\t\tconst toast = await this.toastController.create({\n\t\t\tcolor: 'primary',\n\t\t\tmessage: 'Se inicio sesión correctamente!',\n\t\t\tduration: 2000\n\t\t});\n\n\t\tconst toastError = await this.toastController.create({\n\t\t\tcolor: 'danger',\n\t\t\tmessage: 'Usuario y/o Contraseña invalido!',\n\t\t\tduration: 2000\n\t\t});\n\n\t\tawait loading.present();\n\n\t\tthis.uniqueDeviceID.get()\n  \t\t\t.then((uuid: any) => {\n\t\t\t\tlet usuario = new Usuario();\n\t\t\t\tusuario.usu_nombre = this.login.controls.usuario.value;\n\t\t\t\tusuario.usu_pass = this.login.controls.pass.value;\n\n\t\t\t\tthis.tService.acceso(usuario).subscribe(data => {\n\t\t\t\t\tif(data == \"1\") {\n\t\t\t\t\t\tlet user = { usuario: '', pass: '', id: '', nombre: '' };\n\t\t\t\t\t\tuser.usuario = this.login.controls.usuario.value;\n\t\t\t\t\t\tuser.pass = this.login.controls.pass.value;\n\t\t\t\t\t\tuser.nombre = '';\n\t\t\t\t\t\tuser.id = uuid;\n\t\t\t\t\t\tthis.storage.set(\"user\", user);\n\t\t\t\t\t\ttoast.present();\n\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t\tthis.navCtrl.navigateRoot('/tabs/tabs');\t\n\t\t\t\t\t}else {\n\t\t\t\t\t\ttoastError.present();\n\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t}\n\t\t\t\t}, error => {\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t})\n\t\t\t  })\n  \t\t\t.catch((error: any) => console.log(error));\n\t}\n\n}\n","export class Usuario {\n    usu_id: number;\n    usu_nombre: String;\n    usu_pass: String;\n\n}"]}