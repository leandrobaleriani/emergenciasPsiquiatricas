{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","tService","loadingController","alertController","storage","getTurnos","create","message","spinner","loading","present","get","then","val","getTurnosByUserId","id","subscribe","data","turnos","dismiss","error","t","detalle","tur_dir","tur_detalle","Date","tur_hora","toLocaleTimeString","header","subHeader","res_id","buttons","text","role","cssClass","handler","cancelarTurno","tur_id","alert","estado","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-title>Mis Reservas</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\t<ion-virtual-scroll [items]=\\\"turnos\\\">\\n\\t\\t<ion-item *virtualItem=\\\"let t\\\" (click)=\\\"verDetalle(t)\\\">\\n\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t<ion-icon name=\\\"time\\\" *ngIf=\\\"t.tur_tipo == 'NORMAL'\\\"></ion-icon>\\n\\t\\t\\t\\t<ion-icon name=\\\"time\\\" color=\\\"danger\\\" *ngIf=\\\"t.tur_tipo == 'URGENCIA'\\\"></ion-icon>\\n\\t\\t\\t</ion-avatar>\\n\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t<h2>{{t.tur_fecha}}</h2>\\n\\t\\t\\t\\t<h3>{{t.tur_direccion}}</h3>\\n\\t\\t\\t\\t<h3>{{t.tur_hora}}</h3>\\n\\t\\t\\t</ion-label>\\n\\t\\t\\t<ion-item-option (click)=\\\"verDetalle(t)\\\" color=\\\"primary\\\" *ngIf=\\\"r.res_estado == 'PENDIENTE'\\\">{{r.res_estado}}\\n\\t\\t\\t</ion-item-option>\\n\\t\\t\\t<ion-item-option (click)=\\\"verDetalle(t)\\\" color=\\\"success\\\" *ngIf=\\\"r.res_estado == 'REALIZADO'\\\">{{r.res_estado}}\\n\\t\\t\\t</ion-item-option>\\n\\t\\t\\t<ion-item-option (click)=\\\"verDetalle(t)\\\" color=\\\"danger\\\" *ngIf=\\\"r.res_estado == 'CANCELADO'\\\">{{r.res_estado}}\\n\\t\\t\\t</ion-item-option>\\n\\t\\t\\t<ion-item-option (click)=\\\"verDetalle(t)\\\" color=\\\"success\\\" *ngIf=\\\"r.res_estado == 'CONFIRMADO'\\\">{{r.res_estado}}\\n\\t\\t\\t</ion-item-option>\\n\\t\\t</ion-item>\\n\\t</ion-virtual-scroll>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { Turno } from '../model/Turno';\nimport { TurnosService } from '../services/turnos.service';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit {\n\n  turnos: Turno[];\n\n\tconstructor(private tService: TurnosService,\n\t\tpublic loadingController: LoadingController,\n\t\tpublic alertController: AlertController,\n\t\tpublic storage: Storage) {\n\n\t}\n\n\tionViewWillEnter() {\n\t\tthis.getTurnos();\n\t}\n\t\n\tngOnInit() {\n\t}\n\n\tasync getTurnos() {\n\t\tlet loading = await this.loadingController.create({\n\t\t\tmessage: \"Cargando...\",\n\t\t\tspinner: \"crescent\"\n\t\t});\n\n\t\tawait loading.present();\n\t\tawait this.storage.get('user').then((val) => {\n\t\t\tthis.tService.getTurnosByUserId(val.id).subscribe(data => {\n\t\t\t\tthis.turnos = data;\n\t\t\t\tloading.dismiss();\n\t\t\t}, error => {\n\t\t\t\tloading.dismiss();\n\t\t\t})\n\t\t}, error => {\n\t\t\tloading.dismiss();\n\t\t});\n\t}\n\n\tasync verDetalle(t) {\n\t\tlet detalle = \"<b>Dirección: </b>\" + t.tur_dir + \"<br>\";\n\t\tif (t.tur_detalle != \"\") {\n\t\t\tdetalle = detalle + \"<br><b>Detalle: </b>\" + t.tur_detalle;\n    }\n    \n    detalle = detalle + \"<br><b>Horario: </b>\"  + new Date(t.tur_hora).toLocaleTimeString();\n\n\t\tconst alert = await this.alertController.create({\n\t\t\theader: 'Detalle',\n\t\t\tsubHeader: 'Turno N°: ' + t.res_id,\n\t\t\tmessage: detalle,\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Salir',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\tcssClass: 'secondary'\n\t\t\t\t}, {\n\t\t\t\t\ttext: 'Cancelar Reserva',\n\t\t\t\t\tcssClass: 'primary',\n\t\t\t\t\thandler: () => {\n\t\t\t\t\t\tthis.cancelarTurno(t.tur_id, \"CANCELADO\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\tawait alert.present();\n\t}\n\n\tasync cancelarTurno(id, estado) {\n\t\tlet loading = await this.loadingController.create({\n\t\t\tmessage: \"Espere...\",\n\t\t\tspinner: \"crescent\"\n\t\t});\n\n\t\tawait loading.present();\n\t\tawait this.tService.cancelarTurno(id, estado).subscribe(data => {\n\t\t\tthis.getTurnos();\n\t\t\tloading.dismiss();\n\t\t}, error => {\n\t\t\tloading.dismiss();\n\t\t})\n\t}\n\n}\n"]}